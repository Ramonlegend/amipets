generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Pet {
  id             Int      @id @default(autoincrement())
  nome           String // Nome do bixano
  especie        String // Cachorro, Gato, Coelho, etc.
  dataNascimento DateTime // Data de nascimento aproximada
  descricao      String // Descrição do pet
  status         String   @default("disponível") // "disponível" ou "adotado"
  tamanho        String // Porte do pet (ex: pequeno, médio, grande)
  personalidade  String // Personalidade do pet (ex: brincalhão, calmo)

  // Relacionamento opcional com Adoção
  adocao   Adocao?
  adocaoId Int?    @unique

  @@index([status]) // índice para facilitar consultas por status
}

model Adotante {
  id       Int     @id @default(autoincrement())
  nome     String
  email    String  @unique
  telefone String
  endereco String
  senha    String
  isAdmin  Boolean @default(false) // Define se o adotante é administrador

  // Relacionamento com Adoções
  adocoes Adocao[]
}

model Adocao {
  id         Int      @id @default(autoincrement())
  dataAdocao DateTime @default(now())

  // Relacionamento com o Adotante
  adotante   Adotante @relation(fields: [adotanteId], references: [id])
  adotanteId Int

  // Relacionamento com o Pet
  pet   Pet @relation(fields: [petId], references: [id])
  petId Int @unique // Define "petId" como único para relação um-para-um
}
